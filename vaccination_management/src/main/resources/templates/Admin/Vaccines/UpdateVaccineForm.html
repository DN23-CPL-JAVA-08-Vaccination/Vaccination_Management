<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Cập nhật thông tin [[${pageTitle}]]</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link th:href="@{/css/adminStyle_HuyLVN.css}" rel="stylesheet" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body class="sb-nav-fixed">
<th:block th:insert="admin/nav"></th:block>
<div id="layoutSidenav">
    <th:block th:insert="admin/sidenav"></th:block>
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <h1 class="mt-4">
                    <i class="fa fa-pencil-square" aria-hidden="true"></i>
                    Cập nhật [[${pageTitle}]]
                </h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item">Dashboard</li>
                    <li class="breadcrumb-item"><a th:href="@{/admin/vaccines}">Vaccines</a></li>
                    <li class="breadcrumb-item active">Cập nhật [[${pageTitle}]]</li>
                </ol>
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fa fa-pencil-square" aria-hidden="true"></i>
                        Cập nhật
                    </div>

                    <div class="card-body">
                        <form th:action="@{/admin/vaccines/updateVaccine}" method="post" th:object="${updateVaccine}" style="max-width: 1000px; margin: 0 auto; border-radius: 25%">
                            <input type="hidden" th:field="*{id}">
                            <input type="hidden" th:field="*{createDate}">
                            <input type="hidden" th:field="*{deleteFlag}">
                            <div class="border border-secondary rounded p-3">
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Tên Vaccine: </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{name}" class="form-control" placeholder="Tên Vaccine" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Mã định danh: </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{code}" class="form-control" placeholder="Mã định danh" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Mô tả: </label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" rows="5" th:field="*{description}" placeholder="Mô tả"></textarea>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Đơn giá: </label>
                                    <div class="col-sm-8">
                                        <input type="number" th:field="*{price}" class="form-control" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Thời hạn : </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{duration}" class="form-control" placeholder="Thời hạn tác dụng của Vaccine" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Liều lượng (ml): </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{dosage}" class="form-control" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Hình ảnh: </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{image}" class="form-control" placeholder="Link Image" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Độ tuổi phù hợp: </label>
                                    <div class="col-sm-8">
                                        <input type="text" th:field="*{age}" class="form-control" placeholder="Độ tuổi phù hợp" required/>
                                    </div>
                                </div>
                                <div class="form-group row" style="padding: 5px">
                                    <label class="col-sm-4 col-form-label">Loại Vaccine: </label>
                                    <div class="col-sm-8" style="padding-top: 10px">
                                        <label>
                                            <select th:field="*{vaccineType}" style="max-width: max-content; height: 30px; border-radius: 5px">
                                                <option value="" style="text-align: center;">---------- Chọn loại Vaccine ----------</option>
                                                <option th:each="vaccineType : ${typeList}" th:text="${vaccineType.name}" th:value="${vaccineType.id}"></option>
                                            </select>
                                        </label>
                                    </div>
                                </div>
                                <div class="text-center" style="padding-top: 20px">
                                    <button type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#updateModal">Cập nhật</button>
                                    <!-- Modal -->
                                    <div class="modal fade custom-modal" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header" style="background-color: #28a745">
                                                    <h5 class="modal-title" id="updateModalLabel">Cập nhật thông tin Vaccine?</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body" style="text-align: left">
                                                    <p>Bạn phải đảm bảo mọi thông tin đã được nhập đầy đủ. Nếu bạn cập nhật vaccine, thông tin được nhập sẽ thay đổi trong CSDL. Bạn có chắc chắn muốn tiếp tục không?</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Trở lại</button>
                                                    <button type="submit" class="btn btn-outline-success">Xác nhận</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-outline-secondary" data-toggle="modal" data-target="#exitModal">Thoát</button>
                                    <div class="modal fade custom-modal" id="exitModal" tabindex="-1" role="dialog" aria-labelledby="exitModalLabel">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header" style="background-color: #6c757d">
                                                    <h5 class="modal-title" id="exitModalLabel">Thoát?</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body" style="text-align: left">
                                                    <p>Nếu bạn thoát khỏi quá trình cập nhật vaccine, mọi thông tin được nhập sẽ bị hủy. Bạn có chắc chắn muốn tiếp tục không?</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Trở lại</button>
                                                    <button type="button" class="btn btn-outline-secondary"  onclick="cancelForm()">Xác nhận</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
        <th:block th:insert="admin/footer_admin"></th:block>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script th:src="@{/js/adminScripts.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
<script th:src="@{js/DatabaseSimple.js}"></script>
<script type="text/javascript">
    function cancelForm() {
        window.location = "[[@{/admin/vaccines}]]"
    }
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
